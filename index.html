<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generaci√≥n del 30 - Ecuador</title>
    
    <style>
        /* Estilos del Aviso Modal */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            text-align: center;
        }
        .modal-content {
            background-color: #4e342e; /* Color m√°s terroso/sobrio */
            color: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
            max-width: 500px;
        }
        .modal-content h2 {
            margin-top: 0;
            font-size: 2em;
        }
        .modal-button {
            padding: 15px 30px;
            margin: 10px;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .button-si {
            background-color: #00897b; /* Verde m√°s sobrio */
            color: white;
        }
        .button-si:hover {
            background-color: #00695c;
        }
        .button-no {
            background-color: #d84315; /* Naranja/rojo terroso */
            color: white;
        }
        .button-no:hover {
            background-color: #bf360c;
        }
        
        /* CSS B√°sico y Layout */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #5d4037; /* Fondo marr√≥n oscuro / caf√© */
            color: #333;
        }
        header {
            background-color: #3e2723; /* T√≠tulo muy oscuro */
            color: white;
            padding: 20px;
            text-align: center;
            /* Si la fuente Playfair Display no carga, usa Georgia por defecto */
            font-family: 'Playfair Display', Georgia, serif; 
            min-height: 50px; /* Asegura espacio para las citas rotativas */
        }
        header h1 {
            font-size: 2.2em;
            text-shadow: 2px 2px #00000040;
            transition: opacity 1s ease-in-out; /* Animaci√≥n para rotar las citas */
        }
        .container {
            width: 95%;
            margin: 20px auto;
            overflow: hidden;
            display: flex;
            justify-content: space-between;
        }
        
        /* Nuevo dise√±o de 3 columnas (18% - 60% - 18%) */
        .carrusel-column {
            width: 18%; 
            background-color: #efebe9; /* Fondo beige claro */
            padding: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            border-radius: 5px;
            height: fit-content;
            margin: 0 10px;
        }
        
        /* Contenedor central de la animaci√≥n */
        .main-content {
            width: 60%; 
            background: white;
            padding: 25px; 
            box-shadow: 0 5px 15px rgba(0,0,0,0.4); 
            min-height: 400px; 
            
            /* ANIMACI√ìN FADE IN */
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 1s ease-out, transform 0.8s ease-out;
        }
        .main-content.visible {
            opacity: 1;
            transform: translateY(0);
        }
        .main-content h2 {
            color: #4e342e; /* T√≠tulos marr√≥n fuerte */
            border-bottom: 3px solid #d84315;
            padding-bottom: 10px;
            font-family: 'Playfair Display', Georgia, serif; 
        }
        
        /* Estilos del Carrusel Lateral */
        .carrusel-lateral h4 {
            color: #3e2723;
            margin-top: 0;
            font-size: 1.2em;
            border-bottom: 2px solid #8d6e63;
            padding-bottom: 5px;
            text-align: center;
        }
        
        /* Resaltado de √≠tems del Carrusel */
        .carrusel-item {
            background-color: white;
            padding: 15px;
            margin-bottom: 10px;
            border-left: 5px solid transparent;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            text-align: center;
            transition: border-left 0.3s ease, transform 0.2s ease;
            cursor: pointer;
        }
        .carrusel-item:hover {
            border-left: 5px solid #d84315; /* Borde al pasar mouse */
            transform: translateY(-2px); /* Peque√±o levantamiento */
        }
        .carrusel-item img {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 50%;
            border: 3px solid #d84315; /* C√≠rculos con acento fuerte */
            margin-bottom: 10px;
        }
        .carrusel-item.obra-item img {
            border-radius: 5px;
        }

        .carrusel-item h5 {
            margin: 0;
            color: #d84315;
            font-size: 1.1em;
            font-family: 'Playfair Display', Georgia, serif; 
        }

        /* Bot√≥n Siguiente */
        .carrusel-nav-lateral button {
            background-color: #8d6e63; /* Marr√≥n m√°s neutro */
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.2s;
        }
        .carrusel-nav-lateral button:hover {
            background-color: #6d4c41;
        }
        
        /* Estilos del Men√∫ Lateral (Sidebar) reubicado */
        .sidebar {
            width: 100%;
            padding: 10px 0;
            background: #f8f7f5;
            margin-bottom: 20px;
            border-radius: 5px;
            border: 1px dashed #d84315; 
        }
        .sidebar button {
            display: block;
            width: 90%;
            margin: 5px auto;
            padding: 10px;
            background-color: #5d4037; 
            color: white;
            border: none;
            cursor: pointer;
            text-align: left;
            border-radius: 5px;
            transition: background-color 0.3s ease, box-shadow 0.2s ease;
        }
        .sidebar button:hover {
            background-color: #3e2723; 
            box-shadow: 0 0 10px #d8431580;
        }
        
        /* ************************************** */
        /* ESTILOS DEL CHATBOT - Mantenemos el estilo de contraste (naranja) */
        /* ************************************** */
        .chatbot {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 280px; 
            background: #fff;
            border: 1px solid #ccc;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            z-index: 1000;
            padding: 0;
            border-radius: 10px;
            overflow: hidden; 
        }
        .chatbot-header {
            background-color: #d84315; /* COLOR NARANJA DESTACADO */
            color: white;
            padding: 10px;
            text-align: center;
            border-radius: 10px 10px 0 0;
            cursor: pointer; 
            font-weight: bold;
        }
        .chatbot-body {
            height: 250px;
            overflow-y: auto;
            padding: 10px;
            border-bottom: 1px solid #eee;
            scroll-behavior: smooth;
            transition: height 0.3s ease-out; 
        }
        .chatbot-input-container {
            padding: 10px;
            display: flex; 
            gap: 5px; 
        }
        .chatbot-input-container input {
            flex-grow: 1; 
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        .chatbot-input-container button {
            width: 40px; 
            padding: 8px;
            background-color: #d84315; /* COLOR NARANJA DESTACADO */
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 5px;
        }
        .message-user {
            background-color: #e3f2fd;
            padding: 8px;
            border-radius: 5px;
            margin-bottom: 5px;
            text-align: right;
        }
        .message-bot {
            background-color: #f1f8e9;
            padding: 8px;
            border-radius: 5px;
            margin-bottom: 5px;
            text-align: left;
        }
    </style>
</head>
<body>

    <div id="avisoModal" class="modal">
        <div class="modal-content">
            <h2>¬øQuieres aprender sobre la Generaci√≥n del 30?</h2>
            <button class="modal-button button-si" onclick="entrarPagina()">S√≠, quiero llenarme de conocimiento</button>
            <button class="modal-button button-no" onclick="alert('L√°stima. ¬°Regresa cuando est√©s listo para aprender!')">No, quiero seguir siendo un ignorante</button>
        </div>
    </div>

    <header>
        <h1 id="header-text">Generaci√≥n del 30: El Despertar de la Literatura Ecuatoriana</h1>
    </header>

    <div class="container">
        
        <div id="autores-carrusel-container" class="carrusel-column">
            </div>

        <div id="main-content" class="main-content">
            <div class="sidebar">
                <h3>Temas Generales</h3>
                <button onclick="cargarContenido('bienvenido')">üëã Bienvenida e Introducci√≥n</button>
                <button onclick="cargarContenido('contexto')">üìú Contexto Hist√≥rico</button>
            </div>
            
            <div id="general-content">
                <h2 id="titulo-contenido">Bienvenido</h2>
                <p id="parrafo-contenido">
                    Selecciona una opci√≥n del men√∫ de arriba o utiliza las barras laterales para explorar los autores y obras del **Realismo Social Ecuatoriano**.
                </p>
            </div>
        </div>
        
        <div id="obras-carrusel-container" class="carrusel-column">
            </div>
    </div>

    <div class="chatbot">
        <div class="chatbot-header" onclick="toggleChatbot()">Chat sobre la Generaci√≥n del 30 (Impulsado por Groq)</div>
        <div id="chatbot-body" class="chatbot-body">
            <p class="message-bot">¬°Hola! Preg√∫ntame sobre la 'Generaci√≥n del 30' o alguna obra en espec√≠fico. Uso Groq para responder.</p>
        </div>
        <div class="chatbot-input-container">
            <input type="text" id="chat-input" placeholder="Escribe tu pregunta..." onkeypress="if(event.keyCode == 13) enviarMensaje()">
            <button onclick="enviarMensaje()">‚Üí</button>
        </div>
    </div>

    <script>
        // üîë CLAVE DE GROQ (Usando la clave proporcionada por el usuario, sin espacios)
        const GROQ_API_KEY = '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'; 
        const GROQ_MODEL = 'llama-3.3-70b-versatile'; // Modelo solicitado por el usuario
        const API_ENDPOINT = 'https://api.groq.com/openai/v1/chat/completions';
        
        // Estado del carrusel
        let indiceAutorActual = 0;
        let indiceObraActual = 0;

        // Citas para rotar en el header
        const citas = [
            "Generaci√≥n del 30: El Despertar de la Literatura Ecuatoriana",
            "\"Huasipungo no es una novela, es un grito.\" - Jorge Icaza",
            "La pluma como arma contra la injusticia social",
            "\"El montubio no es un tipo, es un ser humano.\" - Jos√© de la Cuadra",
            "Realismo Social: la verdad sin adornos de Ecuador"
        ];
        
        // Funci√≥n para cambiar el texto del header cada 6 segundos
        function rotarHeader() {
            const headerElement = document.getElementById('header-text');
            let indiceCita = 0;

            const updateText = () => {
                headerElement.style.opacity = 0; // Oculta
                setTimeout(() => {
                    indiceCita = (indiceCita + 1) % citas.length;
                    headerElement.textContent = citas[indiceCita];
                    headerElement.style.opacity = 1; // Muestra
                }, 1000); // Espera 1 segundo para la transici√≥n
            };

            // Inicia la rotaci√≥n despu√©s de un tiempo
            setInterval(updateText, 6000); 
        }

        // Funci√≥n para ocultar el modal y entrar a la p√°gina (con animaci√≥n)
        function entrarPagina() {
            document.getElementById('avisoModal').style.display = 'none';
            // Inicia la animaci√≥n del contenido principal
            document.getElementById('main-content').classList.add('visible');
        }

        // ==============================================
        // FUNCI√ìN: Ocultar/Mostrar el Chatbot
        // ==============================================
        function toggleChatbot() {
            const body = document.getElementById('chatbot-body');
            const inputContainer = document.querySelector('.chatbot-input-container');
            
            // Si el cuerpo est√° colapsado (0px o vac√≠o), lo expande. Si est√° abierto, lo colapsa.
            if (body.style.height === '0px' || body.style.height === '') {
                body.style.height = '250px'; 
                inputContainer.style.display = 'flex'; 
            } else {
                body.style.height = '0px'; 
                inputContainer.style.display = 'none'; 
            }
        }

        // Listas ordenadas para la navegaci√≥n tipo Carrusel
        const autoresEnOrden = ['icaza', 'delacuadra', 'aguilera'];
        const obrasEnOrden = ['losqueseven', 'dongoyo', 'huasipungo'];

        // Base de datos de contenido (con M√ÅS contexto para rellenar el espacio)
        const contenido = {
            bienvenido: {
                tipo: 'general',
                titulo: "Bienvenido al Realismo Social Ecuatoriano üëã",
                cuerpo: `
                    <p>La Generaci√≥n del 30 marc√≥ un punto de inflexi√≥n radical en la literatura de Ecuador. Estos escritores, mayoritariamente j√≥venes y con una fuerte conciencia de clase, decidieron abandonar las tendencias rom√°nticas y costumbristas que hab√≠an dominado el siglo XIX.</p>
                    
                    <p>Se sumergieron en la **cruda realidad social** del pa√≠s, utilizando su arte como una poderosa herramienta de denuncia. Su enfoque era visceral y sin censura, exponiendo sin filtros la opresi√≥n y la miseria de los grupos marginados, como el ind√≠gena de la Sierra, el montubio de la Costa y el cholo de las periferias urbanas.</p>
                    
                    <p>El movimiento se consolid√≥ en Guayaquil y Quito, con el famoso **Grupo de Guayaquil** (coste√±os) y los indigenistas (serranos) compartiendo un mismo objetivo: forzar a la √©lite del pa√≠s a confrontar la verdad de sus cimientos sociales.</p>
                    
                    <h3>Principales Caracter√≠sticas del Movimiento</h3>
                    <ul>
                        <li>**Denuncia Social:** Exposici√≥n expl√≠cita de la explotaci√≥n econ√≥mica y racial.</li>
                        <li>**Lenguaje Coloquial:** Uso de dialectos, jerga y lenguaje vulgar para reflejar la voz aut√©ntica del pueblo.</li>
                        <li>**Regionalismo Fuerte:** Las obras est√°n profundamente arraigadas en geograf√≠as espec√≠ficas (la Sierra andina, el Litoral y sus r√≠os).</li>
                        <li>**Pesimismo:** Ausencia de hero√≠smo burgu√©s; los personajes son v√≠ctimas de un sistema inamovible.</li>
                    </ul>
                    <p>Selecciona una opci√≥n del men√∫ de arriba o utiliza las barras laterales de Autores y Obras para empezar tu recorrido por esta √©poca fundamental que redefini√≥ la identidad literaria ecuatoriana.</p>
                `
            },
            contexto: {
                tipo: 'general',
                titulo: "Contexto Hist√≥rico: Crisis, Revoluci√≥n y Desigualdad üìú",
                cuerpo: `
                    <p>El surgimiento de la Generaci√≥n del 30 no fue casual; fue una respuesta directa al ambiente pol√≠tico y econ√≥mico de la √©poca. El periodo estuvo marcado por:</p>
                    
                    <h3>El Siglo XX Temprano en Ecuador</h3>
                    <ul>
                        <li>**Revoluci√≥n Juliana (1925):** Un golpe de Estado militar progresista que busc√≥ modernizar el Estado y frenar el poder de la banca. Aunque fracas√≥ en su objetivo final, abri√≥ el espacio para una cr√≠tica social intensa.</li>
                        <li>**La Crisis del Cacao:** La plaga de la monilla y la ca√≠da de la demanda internacional destruyeron la principal fuente de riqueza del Litoral a finales de los a√±os 20, generando desempleo masivo en la Costa.</li>
                        <li>**La Crisis Global de 1929 (Gran Depresi√≥n):** Impact√≥ profundamente a Ecuador, exacerbando la pobreza y la inestabilidad pol√≠tica, y creando un caldo de cultivo perfecto para la literatura de protesta.</li>
                    </ul>

                    <h3>El Impacto del Contexto</h3>
                    <p>La Generaci√≥n del 30 utiliz√≥ esta inestabilidad como materia prima. Vieron c√≥mo la estructura feudal de la Sierra y la opresi√≥n neocolonial de la Costa manten√≠an al pa√≠s sumido en la miseria. Su compromiso no era solo est√©tico, sino √©tico: quer√≠an cambiar la sociedad mostrando su fealdad. Por eso, sus obras son documentos hist√≥ricos tan valiosos como piezas literarias.</p>
                    <p>El Realismo Social se consolid√≥ como una necesidad, un espejo brutalmente honesto frente a una naci√≥n que prefer√≠a ignorar a sus clases oprimidas.</p>
                `
            },
            
            // OBRAS CON CONTEXTO AMPLIADO
            losqueseven: {
                tipo: 'obra',
                titulo: "Los que se van",
                autor: "Aguilera Malta, Gallegos Lara y Gil Gilbert (1930)",
                tema: "Cuentos del Montubio Coste√±o y Cholo",
                descripcion: "Este libro colectivo fue el manifiesto fundacional del famoso Grupo de Guayaquil, un pu√±ado de j√≥venes escritores que se atrevieron a retratar la vida de los campesinos de la costa.",
                contexto_ampliado: "Mediante cuentos cortos, rompi√≥ con el lenguaje tradicional para incorporar la jerga, la cultura y las duras condiciones de vida de los montubios y cholos. La obra gener√≥ un esc√°ndalo en la sociedad burguesa de la √©poca por su lenguaje expl√≠cito y sus temas de miseria, prostituci√≥n y violencia, pero se convirti√≥ en un pilar de la nueva narrativa nacional.",
                imagen: "placeholder-losqueseven-portada.jpg" 
            },
            dongoyo: {
                tipo: 'obra',
                titulo: "Don Goyo",
                autor: "Demetrio Aguilera Malta (1933)",
                tema: "Mitos, Montubio y Naturaleza",
                descripcion: "Novela que narra la vida en la isla Pun√° y las luchas de los pobladores contra la explotaci√≥n. Don Goyo es una figura m√≠tica y fuerte que encarna la resistencia del pueblo coste√±o.",
                contexto_ampliado: "Aguilera Malta utiliza un estilo que, aunque es realista, incorpora elementos de la tradici√≥n oral y el mito, haciendo que el mar y la naturaleza adquieran vida propia y un papel central en la trama.",
                imagen: "placeholder-dongoyo-portada.jpg"
            },
            huasipungo: {
                tipo: 'obra',
                titulo: "Huasipungo",
                autor: "Jorge Icaza (1934)",
                tema: "Indigenismo, Denuncia de la Explotaci√≥n",
                descripcion: "Considerada la novela m√°s importante del indigenismo ecuatoriano. Es un relato tr√°gico y profundamente realista que expone la miseria, el maltrato sistem√°tico y la explotaci√≥n de los ind√≠genas en el sistema de haciendas (huasipungo).",
                contexto_ampliado: "La novela fue censurada y provoc√≥ un debate internacional sobre la condici√≥n de los ind√≠genas en Am√©rica Latina, siendo traducida a m√∫ltiples idiomas. Su lenguaje es crudo y expl√≠cito, reflejando la dureza de la vida en el campo.",
                imagen: "placeholder-huasipungo-portada.jpg" 
            },

            // AUTORES CON CONTEXTO AMPLIADO
            icaza: {
                tipo: 'autor',
                nombre: "Jorge Icaza",
                area: "Sierra (Indigenismo)",
                descripcion: "M√°ximo exponente del indigenismo en Ecuador y dramaturgo.",
                contexto_ampliado: "Su obra m√°s conocida, 'Huasipungo', es un grito de denuncia contra la injusticia social y la explotaci√≥n. Icaza pas√≥ de ser actor y dramaturgo a novelista, volcando en sus obras la rabia y la desesperaci√≥n de los marginados. Su conocimiento del campo ecuatoriano y su estilo directo y descarnado lo convirtieron en la voz m√°s potente de la Sierra en este movimiento.",
                imagen: "placeholder-icaza-retrato.jpg"
            },
            delacuadra: {
                tipo: 'autor',
                nombre: "Jos√© de la Cuadra",
                area: "Costa (Grupo de Guayaquil)",
                descripcion: "Uno de los cuentistas m√°s importantes de la 'Generaci√≥n del 30'. Se centr√≥ en la vida del **montubio**.",
                contexto_ampliado: "Su obra 'La Tigra' es un cuento largo magistral que combina el realismo crudo con la leyenda. Junto con Demetrio Aguilera Malta y Alfredo Pareja Diezcanseco, form√≥ el n√∫cleo duro del Grupo de Guayaquil, conocido tambi√©n como 'Los Cinco'. Muri√≥ joven, dejando una obra fundamental pero incompleta.",
                imagen: "placeholder-cuadra-retrato.jpg"
            },
            aguilera: {
                tipo: 'autor',
                nombre: "Demetrio Aguilera Malta",
                area: "Costa (Grupo de Guayaquil)",
                descripcion: "Novelista, dramaturgo, periodista y cineasta. Su vasta obra explora tanto la vida del montubio como temas de cr√≠tica social.",
                contexto_ampliado: "Aguilera Malta no solo escribi√≥, sino que tambi√©n cofund√≥ la Compa√±√≠a de Teatro de Arte de Guayaquil. Su trabajo es notable por su versatilidad y su uso de la geograf√≠a ecuatoriana (especialmente el mar) como elemento narrativo principal. Fue un intelectual comprometido que ocup√≥ puestos diplom√°ticos.",
                imagen: "placeholder-aguilera-retrato.jpg"
            }
        };

        // ==============================================
        // Funciones de control de Carrusel Lateral
        // ==============================================

        function cambiarAutor(direccion) {
            indiceAutorActual += direccion;
            if (indiceAutorActual < 0) {
                indiceAutorActual = autoresEnOrden.length - 1; 
            } else if (indiceAutorActual >= autoresEnOrden.length) {
                indiceAutorActual = 0; 
            }
            renderizarAutorActual();
        }

        function cambiarObra(direccion) {
            indiceObraActual += direccion;
            if (indiceObraActual < 0) {
                indiceObraActual = obrasEnOrden.length - 1; 
            } else if (indiceObraActual >= obrasEnOrden.length) {
                indiceObraActual = 0; 
            }
            renderizarObraActual();
        }
        
        function renderizarAutorActual() {
            const key = autoresEnOrden[indiceAutorActual];
            const data = contenido[key];
            const container = document.getElementById('autores-carrusel-container');

            container.innerHTML = `
                <div class="carrusel-lateral">
                    <h4>Foco del D√≠a: Autores</h4>
                    <div class="carrusel-item">
                        <img src="${data.imagen}" alt="Retrato de ${data.nombre}">
                        <h5>${data.nombre}</h5>
                        <p><strong>Enfoque:</strong> ${data.area}</p>
                        <p>${data.descripcion}</p>
                    </div>
                    <div class="carrusel-nav-lateral">
                        <button onclick="cambiarAutor(-1)">‚Üê Anterior</button>
                        <button onclick="cambiarAutor(1)">Siguiente ‚Üí</button>
                    </div>
                </div>
            `;
        }

        function renderizarObraActual() {
            const key = obrasEnOrden[indiceObraActual];
            const data = contenido[key];
            const container = document.getElementById('obras-carrusel-container');

            container.innerHTML = `
                <div class="carrusel-lateral">
                    <h4>Obra Destacada</h4>
                    <div class="carrusel-item obra-item">
                        <img src="${data.imagen}" alt="Portada de ${data.titulo}">
                        <h5>${data.titulo}</h5>
                        <p>De: ${data.autor.split('(')[0]}</p>
                        <p><strong>Tema:</strong> ${data.tema}</p>
                    </div>
                    <div class="carrusel-nav-lateral">
                        <button onclick="cambiarObra(-1)">‚Üê Anterior</button>
                        <button onclick="cambiarObra(1)">Siguiente ‚Üí</button>
                    </div>
                </div>
            `;
        }


        // ==============================================
        // FUNCI√ìN PRINCIPAL: Carga de Contenido General (Al centro)
        // ==============================================
        function cargarContenido(opcion) {
            const mainContent = document.getElementById('general-content');
            
            if (opcion in contenido) {
                const data = contenido[opcion];
                
                // Solo cargamos contenido general en el centro
                if (data.tipo === 'general') {
                    mainContent.innerHTML = `
                        <h2 id="titulo-contenido">${data.titulo}</h2>
                        ${data.cuerpo}
                    `;
                }
            } else {
                 mainContent.innerHTML = `<h2 id="titulo-contenido">Error</h2><p>Contenido no encontrado.</p>`;
            }
        }
        
        // Inicializa el contenido al cargar la p√°gina
        document.addEventListener('DOMContentLoaded', () => {
            // Inicia la rotaci√≥n de citas
            rotarHeader();
            
            // Carga la bienvenida en el centro
            cargarContenido('bienvenido'); 
            
            // Renderiza el primer autor y la primera obra en los laterales
            renderizarAutorActual();
            renderizarObraActual();
            
            // Asignar el evento click al header del chatbot
            document.querySelector('.chatbot-header').onclick = toggleChatbot;
        });


        // FUNCIONALIDAD DE CHAT REAL (Integraci√≥n de Groq API)
        async function enviarMensaje() {
            const input = document.getElementById('chat-input');
            const body = document.getElementById('chatbot-body');
            const userText = input.value.trim();

            if (userText === "") return;

            // 1. Mostrar mensaje del usuario
            body.innerHTML += `<p class="message-user">${userText}</p>`;
            input.value = '';

            // 2. Simular que el bot est√° escribiendo
            const thinkingMsg = document.createElement('p');
            thinkingMsg.classList.add('message-bot');
            thinkingMsg.textContent = 'El Bot est√° consultando a la IA de Groq...';
            body.appendChild(thinkingMsg);
            body.scrollTop = body.scrollHeight;

            try {
                // Estructura de la solicitud para Groq
                const payload = {
                    model: GROQ_MODEL, 
                    messages: [
                        {
                            role: "system",
                            content: "Eres un experto en la Generaci√≥n del 30 de Ecuador (Realismo Social). Responde de forma concisa y profesional solo preguntas sobre autores, obras o el contexto hist√≥rico de ese movimiento literario."
                        },
                        { 
                            role: "user", 
                            content: userText 
                        }
                    ],
                };

                const response = await fetch(API_ENDPOINT, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${GROQ_API_KEY}`
                    },
                    body: JSON.stringify(payload)
                });

                const data = await response.json();
                
                thinkingMsg.remove(); 

                const botMsg = document.createElement('p');
                botMsg.classList.add('message-bot');
                
                let botResponseText = "Lo siento, la IA no pudo generar una respuesta.";

                // Intentar extraer la respuesta de la estructura JSON de Groq
                if (data.choices && data.choices.length > 0 && data.choices[0].message) {
                    botResponseText = data.choices[0].message.content;
                } else if (data.error) {
                     // Si hay error de API (ej: Invalid API Key) lo mostramos
                     botResponseText = `**Error de API (Groq):** Por favor, verifica tu clave de API o el nombre del modelo. Detalle: ${data.error.message}`;
                }

                botMsg.innerHTML = botResponseText;
                body.appendChild(botMsg);
                
            } catch (error) {
                thinkingMsg.remove();
                const botMsgError = document.createElement('p');
                botMsgError.classList.add('message-bot');
                botMsgError.innerHTML = `**Error de Conexi√≥n:** No se pudo conectar con la API de Groq. Verifica tu clave o la red.`;
                body.appendChild(botMsgError);
                console.error('Error al llamar a la API de Groq:', error);
            }

            body.scrollTop = body.scrollHeight;
        }
    </script>

</body>
</html>
